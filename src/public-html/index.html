<html>
    <head>
        <meta charset="utf-8">
        <title>AnyModel Portal</title>

        <!-- Font awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"> 

        <link rel="stylesheet" href="style.css">
        <script src="index.js"></script>
    </head>

    <body onload="init()">
        <h1>AnyModel Portal</h1>

        <div id="logged-out" >
            <form id="log-in-form" action="javascript:login()">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="name@example.com">
                <br>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password">
                <br>
                <button type="submit">Log In</button>
            </form>
        </div>

        <div id="logged-in">
            <p id="logged-in-msg"></p>
            <button onclick="logout()">Log Out</button>
            
            <!-- <div id="view-user" class="admin org-admin">
                <h2>View User</h2>
                <form action="javascript:viewUser()">
                    <label for="user-email">Email:</label>
                    <input type="email" id="user-email" name="user-email" placeholder="name@example.com">
                    <br>
                    <button type="submit">Retrieve</button>
                </form>

                <p id="user-json"></p>
            </div>
            

            <div id="delete-user" class="admin org-admin">
                <h2>Delete User</h2>
                <form action="javascript:deleteUser()">
                    <label for="delete-email1">Email:</label>
                    <input type="email" id="delete-email1" name="delete-email1" placeholder="name@example.com">
                    <br>
                    <label for="delete-email2">Repeat Email:</label>
                    <input type="email" id="delete-email2" name="delete-email2" placeholder="name@example.com">
                    <br>
                    <button type="submit">Delete</button>
                </form>
            </div>
            

            <div id="ban-user" class="admin org-admin">
                <h2>Ban User</h2>
                <form action="javascript:banUser()">
                    <label for="ban-email">Email:</label>
                    <input type="email" id="ban-email" name="ban-email" placeholder="name@example.com">
                    <br>
                    <button type="submit">Ban</button>
                </form>
            </div>
            

            <div id="unban-user" class="admin org-admin">
                <h2>Unban User</h2>
                <form action="javascript:unbanUser()">
                    <label for="unban-email">Email:</label>
                    <input type="email" id="unban-email" name="unban-email" placeholder="name@example.com">
                    <br>
                    <button type="submit">Unban</button>
                </form>
            </div> -->

            <div id="create-account" class="admin">
                <h2>Create Account</h2>
                <form action="javascript:createAccount()">
                    <label for="new-email">Name:</label>
                    <input type="text" id="new-account-name" name="new-account-name" placeholder="Example Ltd">
                    <br>

                    <label for="billing">Billing Email:</label>
                    <input type="email" id="billing-email" name="billing-email" placeholder="name@example.com">
                    <br>

                    <label for="monthly-min-spend">Monthly Minimum Spend:</label>
                    <input type="number" id="monthly-min-spend" name="monthly-min-spend" value="0">

                    <input type="radio" id="total-min-spend" name="min-spend-mode" value="account-total" checked>
                    <label for="html">Total</label>
                    <input type="radio" id="per-seat-min-spend" name="min-spend-mode" value="per-seat">
                    <label for="css">Per Seat</label>
                    <br>

                    <label for="account-plans">Plan:</label>
                    <select name="account-plans" id="account-plans">
                        <option value="plan3-stripe-invoice">Plan 3 - Unlimited (stripe invoice)</option>
                        <option value="plan3-manual">Plan 3 - Unlimited (manual)</option>
                    </select> 
                    <br>

                    <button type="submit">Create</button>
                </form>
            </div>
            
            <div id="accounts">
                <h2>Accounts</h2>
                <input type="text" id="account-search" onkeyup="searchAccounts()" placeholder="Search by names or email">
                <table id="account-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Status</th>
                            <th>Min Spend</th>
                            <th>Min Spend / Seat</th>
                            <!-- <th>Seats</th> -->
                            <!-- <th>Balance</th> -->
                            <th>Renewal</th>
                            <th>Stripe</th>
                            <th>Previous Invoice</th>
                            <th>Latest Invoice</th>
                            <th><!-- cancel/activate --></th>
                            <th><!-- Invoice --></th>
                            <th><!-- Delete --></th>
                        </tr>
                    </thead>

                    <tbody id="account-table-body">
                    </tbody>
                </table>
            </div>

            <div id="create-user" class="admin org-admin">
                <h2>Create User</h2>
                <form action="javascript:createUser()">
                    <label for="new-email">Email:</label>
                    <input type="email" id="new-email" name="new-email" placeholder="name@example.com">
                    <br>

                    <label for="new-password">Password:</label>
                    <input type="text" id="new-password" name="new-password" placeholder="password123">
                    <br>

                    <label id="plans-label" for="plans">Plan:</label>
                    
                    <div id="plan-selection">
                        <select name="plans" id="plans">
                            <option value="trial" selected>Trial</option>
                            <option value="plan1-extended-trial">Plan 1 - Starter (extended trial)</option>
                            <option value="plan2-extended-trial">Plan 2 - Plus (extended trial)</option>
                            <option value="plan3-manual">Plan 3 - Unlimited (manual)</option>
                        </select> 
                        <strong>OR</strong>
                        <br>
                    </div>

                    <label for="new-account">Organisation (blank for none):</label>
                    <input type="text" id="new-account" name="new-account" placeholder="">
                    <br>

                    <select name="new-privilege" id="new-privilege">
                        <option value="null" selected>Normal</option>
                        <option value="org-admin">Organisation Admin</option>
                        <option value="admin">Admin</option>
                    </select> 
                    <br>

                    <label for="change-password">Change password on first login?</label>
                    <input type="checkbox" id="change-password" name="change-password" value="change-password">
                    <br>

                    <div id="new-user-min-spend">
                        <label for="min-spend">Minimum spend USD (plan3 only)</label>
                        <input type="number" id="min-spend" name="min-spend">
                        <br>
                    </div>

                    <button type="submit">Create</button>
                </form>
            </div>
        </div>
    </body>
</html>